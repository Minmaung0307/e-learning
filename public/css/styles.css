/* ===== Overlay Sidebar + Full-Width Content (no content shift) ===== */
:root{
  --sb-collapsed: 80px;   /* collapsed width (icons only) */
  --sb-expanded: 260px;   /* expanded width on hover */
}

/* Desktop & tablet overlay behavior */
@media (min-width: 768px){
  /* Stop reserving a grid column; let content be full width */
  .app{ display: block; min-height: 100vh; }

  /* Collapsed, fixed sidebar that overlays content on hover */
  .sidebar{
    position: fixed; left: 0; top: 0;
    height: 100vh;
    width: var(--sb-collapsed);
    overflow: hidden;
    transition: width .22s ease;
    z-index: 20;
  }
  .sidebar:hover{ width: var(--sb-expanded); }

  /* Hide text labels when collapsed */
  .sidebar:not(:hover) .brand .title,
  .sidebar:not(:hover) .nav .item span,
  .sidebar:not(:hover) .footer{
    opacity: 0; pointer-events: none;
  }
  .sidebar .brand .title,
  .sidebar .nav .item span,
  .sidebar .footer{ transition: opacity .18s ease; }

  /* Center icons when collapsed */
  .sidebar:not(:hover) .nav .item{ justify-content: center; }

  /* NEW wrapper that holds topbar + hero + main (see JS edit below) */
  .shell{
    box-sizing: border-box;
    margin-left: var(--sb-collapsed);
    width: calc(100% - var(--sb-collapsed));
    min-width: 0;               /* prevents weird shrink in some browsers */
    transition: margin-left .22s ease, width .22s ease;
  }

  .topbar, .page-hero, .main{
    width: 100%;
    max-width: none;
  }
}

/* Mobile stays off-canvas (as you already had) */
@media (max-width: 767.98px){
  .shell{ margin-left: 0; width: 100%; }
}

/* Ensure main pane really uses full width area */
.main{ width: 100%; max-width: none; }

/* ===== Buttons: consistent sizing, focus ring, better hover ===== */
.btn{
  display: inline-flex; align-items: center; gap: 8px;
  height: 40px; padding: 0 14px;
  border-radius: 12px;
  font-weight: 700; line-height: 1;
  transition: filter .15s ease, transform .02s ease;
}
.btn i{ font-size: 18px; line-height: 0; }
.btn:hover{ filter: brightness(1.06); }
.btn:active{ transform: translateY(1px); }
.btn:disabled, .btn[disabled]{ opacity: .6; cursor: not-allowed; }
.btn:focus-visible{
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Ghost/secondary polish on any background */
.btn.ghost{ background: transparent; color: var(--text); border:1px solid var(--border); }
.btn.ghost:hover{ background: rgba(255,255,255,.05); }
.btn.secondary{ background: var(--tint-15); color: var(--text); }

/* Ensure all inline button groups wrap nicely on small screens */
.card .actions, .meta, .search-inline{ flex-wrap: wrap; }

/* ===== Courses + My Learning: force 3 / 2 / 1 columns ===== */
[data-sec="courses"].grid,
[data-sec="learning"].grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 12px;
}
@media (max-width: 1100px){
  [data-sec="courses"].grid,
  [data-sec="learning"].grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 680px){
  [data-sec="courses"].grid,
  [data-sec="learning"].grid{ grid-template-columns: 1fr; }
}

/* ===== Card images: never crop; keep the letterbox bg ===== */
.card.course-card .img{ height: 200px; background: #f0f2f5; display:flex; align-items:center; justify-content:center; }
.card.course-card .img img{ width: 100%; height: 100%; object-fit: contain; }

/* ===== Make modals solid/opaque for readability (no transparency) ===== */
.modal .dialog{
  background: var(--panel) !important;
  box-shadow: 0 24px 60px rgba(0,0,0,.28);
  backdrop-filter: none !important;
}
.modal .head, .modal .body, .modal .foot{ background: transparent !important; }