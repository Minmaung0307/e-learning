:root{
  --bg:#0b0d10; --panel:#12161b; --muted:#99a2ad; --text:#e7edf5; --border:#20262d;
  --brand:#7ad3ff; --ok:#10b981; --warn:#f59e0b; --danger:#ef4444;
  --card:#12161b; --accent:#7ad3ff; --radius:14px; --shadow:0 8px 22px rgba(0,0,0,.28);
  --fs:16px;
}

/* Palettes */
[data-pal="sunrise"]{ --brand:#ff9d6c; --accent:#ffd36c; --panel:#161417; --card:#19171b; }
[data-pal="ocean"]  { --brand:#33c2ff; --accent:#8be3ff; --panel:#0c1318; --card:#0f161c; }
[data-pal="forest"] { --brand:#3fd18a; --accent:#9af1c3; --panel:#0e1412; --card:#111915; }
[data-pal="violet"] { --brand:#a78bfa; --accent:#d8b4fe; --panel:#14121a; --card:#191724; }
[data-pal="charcoal"]{--brand:#88a0b3; --accent:#b9c8d4; --panel:#0c0e11; --card:#111318;}
[data-pal="light"]  { --bg:#f5f7fb; --panel:#ffffff; --card:#ffffff; --text:#111315; --border:#e8ecf2; --muted:#596070; --brand:#3467eb; --accent:#6ea8ff; }

html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:var(--fs);}

/* App shell */
.app{display:grid;grid-template-columns:280px 1fr;min-height:100vh}
.sidebar{background:var(--panel);border-right:1px solid var(--border);display:flex;flex-direction:column}
.brand{display:flex;align-items:center;gap:10px;padding:16px;border-bottom:1px solid var(--border)}
.brand img{width:28px;height:28px}
.brand .title{font-weight:800;letter-spacing:.2px}

.nav{padding:8px}
.nav .item{display:flex;align-items:center;gap:10px;padding:10px;border-radius:12px;cursor:pointer;color:var(--text)}
.nav .item:hover{background:rgba(255,255,255,.06)}
.nav .item.active{background:rgba(122,211,255,.12);border:1px solid rgba(122,211,255,.35)}
.nav .item.hidden{display:none}
.nav .item i{opacity:.9}

.topbar{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;border-bottom:1px solid var(--border);background:var(--panel);position:sticky;top:0;z-index:5}
.badge{background:rgba(255,255,255,.06);border:1px solid var(--border);padding:6px 10px;border-radius:999px;font-size:12px;display:flex;align-items:center;gap:6px}

.main{padding:16px}

.grid{display:grid;gap:12px}
.grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
.grid.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}
.grid.cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}

.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
.card-body{padding:14px}
.card.highlight{outline:2px dashed var(--brand)}

.table-wrap{overflow:auto}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--border);padding:8px}
.table .num{text-align:right}

.btn{background:var(--brand);color:#000;border:0;padding:10px 12px;border-radius:12px;font-weight:600;cursor:pointer}
.btn:hover{filter:brightness(1.05)}
.btn.ghost{background:transparent;border:1px solid var(--border);color:var(--text)}
.btn.secondary{background:var(--accent)}
.btn.danger{background:var(--danger);color:#fff}
.btn.ok{background:var(--ok);color:#00150d}
.btn.warn{background:var(--warn)}

.input{background:transparent;border:1px solid var(--border);color:var(--text);padding:10px 12px;border-radius:12px}
.input:focus{outline:1px solid var(--brand)}

textarea.input{min-height:120px;white-space:pre-wrap}

.hidden{display:none}
.muted{color:var(--muted)}

/* Search inline */
.search-inline{display:flex;align-items:center;gap:8px;width:min(520px,52vw)}
.search-inline .input{width:100%}
.search-results{position:absolute;margin-top:40px;background:var(--panel);border:1px solid var(--border);border-radius:12px;display:none;max-height:50vh;overflow:auto}
.search-results.active{display:block}
.search-results .row{padding:10px 12px;border-bottom:1px solid var(--border);cursor:pointer}
.search-results .row:hover{background:rgba(255,255,255,.05)}

/* Modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:50}
.modal.active{display:flex}
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.55);backdrop-filter:blur(4px);display:none;z-index:40}
.modal-backdrop.active{display:block}
.dialog{width:min(900px,96vw);max-height:86vh;overflow:auto;background:var(--panel);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow)}
.dialog .head{position:sticky;top:0;background:var(--panel);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:10px 14px}
.dialog .body{padding:14px}
.dialog .foot{padding:12px 14px;border-top:1px solid var(--border);display:flex;gap:8px;justify-content:flex-end}

/* Notification */
.notification{position:fixed;right:16px;bottom:16px;background:var(--panel);border:1px solid var(--border);padding:10px 12px;border-radius:12px;opacity:0;transform:translateY(8px);transition:.25s;z-index:80}
.notification.show{opacity:1;transform:none}
.notification.ok{border-color:rgba(16,185,129,.6)}
.notification.warn{border-color:rgba(245,158,11,.6)}
.notification.danger{border-color:rgba(239,68,68,.6)}

/* Kanban lanes */
.lane-row.drop{outline:2px dashed var(--accent);outline-offset:6px}
.lane-grid{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:10px}

/* Login view center */
.centered{display:grid;place-items:center;min-height:100vh;padding:20px}

/* Media embeds */
.embed{aspect-ratio:16/9;width:100%;border:0;border-radius:12px}
img.media{max-width:100%;border-radius:12px;border:1px solid var(--border)}

/* Certificate canvas container when shown */
.cert-preview{display:flex;justify-content:center;padding:12px}

/* Guide content */
.guide h2{margin:.3em 0}
.guide .section{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;margin:10px 0}